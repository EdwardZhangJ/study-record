# Redux的使用详解（一）

## 一、Redux的核心思想

### 1. 理解JavaScript纯函数

- 函数式编程中有一个非常重要的概念叫纯函数，JavaScript符合函数式编程的范式，所以也有纯函数的概念呢
  - 在react开发中纯函数式被多次提及的
  - 比如react中组件就被要求像是一个纯函数（为什么是像，因为还有class组件），redux中有一个reducer的概念，也是要求必须是一个纯函数
  - 所以掌握纯函数对于理解很多框架的设计是非常有帮助的

- 纯函数的危急百科定义：
  - 在程序设计中，若一个函数符合以下条件，那么这个函数被称为纯函数
  - 此函数在相同的输入值时，需产生相同的输出
  - 函数的输出和输入值意外的其它隐藏信息或状态无关，也和由I/O设备产生的外部输出无关
  - 该函数不能有语义上可观察的函数副作用，诸如“触发事件”，使输出设备输出，或更改输出值以外物件的内容等

- 纯函数的简单总结特点：
  - 确定的输入一定会产生确定的输出
  - 函数在执行的过程中不能产生副作用

### 2. 副作用概念的理解

- 副作用的概念：
  - 在计算机科学中，引入副作用的概念，表示在执行一个函数时，除了返回函数值之外，还对调用函数产生了附加的影响。比如修改了全局变量，修改参数或者改变外部的存储

- 纯函数在执行的过程中就是不能产生这样的副作用
  - 副作用往往就是产生bug的"温床"

### 3. 纯函数的案例

- 对数组操作的两个函数
  - slice：slice截取数组时不会对原数组进行任何操作，而是生成一个新的数组
  - splice：splice截取数组，会返回一个新的数组，也会对原数组进行修改

- slice就是一个纯函数，不会修改数组本身，而splice函数不是一个纯函数

### 4. 纯函数的作用和优化

- 为什么纯函数在函数式编程中非常重要呢？
  - 因为可以安心的编写和安心的使用
  - 在写的时候保证了函数的纯度，只是单纯实现自己的业务逻辑即可，不需要关心传入的内容是如何获得的或者依赖其它的外部变量是否已经发生了修改
  - 在用的时候，确定你的输入内容不会被任意篡改，并且确定的输入，一定会有确定的输出

- React中就要求无论是函数还是class声明一个组件，这个组件都必须像纯函数一样，保护它们的props不被修改
- 接下来学习redux中，reducer也被要求是一个纯函数

## 二、Redux的基本使用

### 1. 为什么需要redux

- JavaScript开发的应用程序，已经变得越来越复杂了
  - JavaScript需要管理的状态越来越多，越来越复杂
  - 这些状态包括服务器返回的数据、缓存数据、用户操作产生的数据等等，也包括一些UI的状态，比如某些元素是否被选中，是否显示加载动效，当前分页

- 管理不断变化的state是非常困难的
  - 状态之间相互会存在依赖，一个状态的变化会引起另一个状态的变化，View页面也有可能会引起状态的变化
  - 当应用程序复杂时，state在什么时候，因为什么原因而发生了变化，发生了怎么样的变化，会变得非常难以控制和追踪

- React是在视图层帮助我们解决了DOM的渲染过程，但是State依然是留给我们来管理
  - 无论是组件定义的state，还是组件之间通信通过props进行传递，也包括通过Context进行数据之间的共享
  - React主要负责帮助我们管理视图，state如何维护最终还是我们自己来决定

- Redux就是一个帮助我们管理State的容器：Redux是JavaScript的状态容器，提供了可预测的状态管理
- Redux处理和React一起使用之外，也可以和其他界面库一起来使用（比如Vue），并且它非常小（包括依赖只有2kb）

### 2. Redux的核心理念 - Store

- Redux的核心理念非常简单

### 3. Redux的核心理念 - action

## 三、React结合Redux

## 四、Redux的异步操作

## 五、redux-devtool

## 六、reducer的模块拆分
